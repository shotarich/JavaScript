如何实现数据的双向绑定

1. 模板的编译
       1.1 拿到模板（容错），将真实的DOM一如到内存中去（利用fragment）
       1.2 开始编译（拿到需要编译的元素节点（具有v-开头的属性）和文本节点（带有{{}}的文本节点））
               1.2.1 编译元素节点
               1.2.2 编译文本节点
               1.2.3 编译的时候需要注意：在编译的时候肯定要拿到data里面的相关值再填充到对应的位置，但在取值的时候一定是调用了数据劫持中的get方法的，但因为要在get方法中添加订阅，因此不能在编译的时候添加订阅，要在添观察者的时候添加订阅。因此要充分利用js单线程的性质，在添加观察者的时候要获取一次原来的值，此时也必将调用数据劫持中的get方法，在取值之前添加一个标志（此标志Dep类义不容辞），在取值结束后销毁这个标志，因为在其他编译的时候此标志若没有销毁也将添加到订阅数组中。
       1.3 把编译好的文档碎片塞回页面

2. 对数据的劫持
       2.1 将data中的数据转换为get和set的方式
       2.2 在get的时候添加订阅
       2.3 在set的时候如果新设置的值和原来的值不一样则再次劫持并发布所有订阅
       2.4 注意：data里面劫持到的每一个属性对应一个发布订阅类

3. 观察数据的变化（观察者模式）
       3.1 给每一个需要观察的数据（双向绑定的需要响应式的那些数据）添加观察者new Watcher()
       3.2 在数据发生变化的时候调用new Watcher里面的回调函数（此回调函数是在添加观察者的时候传入的）